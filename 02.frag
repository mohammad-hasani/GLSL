#ifdef GL_ES
precision mediump float;
#endif

uniform float u_time;
uniform vec2 u_resolution;


float random(vec2 st)
{
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);
}

float star(vec2 coord, float v1, float v2)
{
  coord.x += sin(u_time) + cos(u_time * v1);
  coord.y += cos(u_time) + sin(u_time * v2);
  float color = 0.0;

  color += .005 * (abs(sin(u_time)) + 0.1) / length(coord);

  return color;
}

void main(){
  vec2 coord = (gl_FragCoord.xy * 2.0 - u_resolution) / min(u_resolution.x, u_resolution.y);
  coord = coord * 3.0;

  float color = 0.0;
  // color += star(coord, 2.1, 5.1);
  // color += star(coord, 5.1, 1.2);
  // color += star(coord, 6.1, 3.5);
  // color += star(coord, 4.0, 7.5);
  // color += star(coord, 8.2, 0.3);
  color += star(coord, 9.97334119190748, 1.964227514269381);
color += star(coord, 4.014659291206495, 9.900110799603532);
color += star(coord, 7.808599716889204, 2.9160329189511405);
color += star(coord, 6.73118106944595, 8.686025036744331);
color += star(coord, 9.099992846203671, 0.3621732154089641);
color += star(coord, 3.452325234844502, 6.271731661535217);
color += star(coord, 4.474246109310819, 6.171405039824766);
color += star(coord, 8.359053242458, 6.571292481256833);
color += star(coord, 7.126646402598879, 0.6792495374975804);
color += star(coord, 9.939410198571666, 3.0367346487565294);
color += star(coord, 1.379393671957001, 7.195528964244032);
color += star(coord, 8.088485237899741, 8.311989874820517);
color += star(coord, 5.08052979823736, 6.10168627777848);
color += star(coord, 4.128260190436483, 1.559861501696812);
color += star(coord, 5.192941281570213, 1.5620808704045086);
color += star(coord, 7.888708662380248, 4.363985501655909);
color += star(coord, 6.635029713077355, 5.444847067802039);
color += star(coord, 1.0387881201846871, 0.016188846826654668);
color += star(coord, 5.70392500013286, 9.385564155495343);
color += star(coord, 6.476683825492593, 1.189113178872906);
color += star(coord, 4.704136744769372, 1.4732773376780317);
color += star(coord, 9.925614158921901, 2.33121229205163);
color += star(coord, 2.5261461758668124, 8.69205838776451);
color += star(coord, 2.614800565972689, 4.950166818070362);
color += star(coord, 6.716323426240328, 6.130012024763646);
color += star(coord, 4.8147357104125454, 6.097875388199922);
color += star(coord, 8.803580072582802, 3.5837779707756843);
color += star(coord, 6.4613025867264495, 8.950156149824345);
color += star(coord, 9.28674231361445, 1.6930924294436545);
color += star(coord, 1.4320581634878538, 4.321099798033993);
color += star(coord, 0.9459753103182478, 7.239460539361967);
color += star(coord, 9.194288488400264, 1.5418486611593363);
color += star(coord, 1.438810239455568, 5.737618214172118);
color += star(coord, 4.058462556687807, 5.522736313224662);
color += star(coord, 2.540176829241889, 1.758507873958881);
color += star(coord, 1.947958444349397, 9.034856176344043);
color += star(coord, 7.814696722576734, 2.684053688049265);
color += star(coord, 1.7660566923768295, 4.278957585713111);
color += star(coord, 0.24919020726670182, 8.69522786407203);
color += star(coord, 6.7453400316153225, 0.40086983737041226);
color += star(coord, 9.51565217706996, 5.756989282059404);
color += star(coord, 8.845901096103598, 1.4835088587546474);
color += star(coord, 4.672629428084911, 3.949654248701868);
color += star(coord, 8.502589831511196, 1.6878198995678684);
color += star(coord, 0.475236811643156, 9.126500019897255);
color += star(coord, 2.2833442011534757, 7.865242100805671);
color += star(coord, 4.171820160293544, 7.522788907579928);
color += star(coord, 9.243413070801477, 1.9677565454949253);
color += star(coord, 5.8835013831171, 9.150360946069114);
color += star(coord, 4.310757062544257, 2.5427115002564884);
color += star(coord, 9.9987928783016, 9.100583229665);
color += star(coord, 1.6681954989872416, 9.87791958754042);
color += star(coord, 9.604258047786457, 8.21514622976827);
color += star(coord, 0.03426475546270735, 6.690114018658223);
color += star(coord, 7.3853580237240255, 2.050956113309864);
color += star(coord, 3.8624658873810933, 6.946714752668386);
color += star(coord, 2.1518520269315875, 5.5783394143831995);
color += star(coord, 0.6119438836641, 3.3532444109899906);
color += star(coord, 1.8269705509726186, 8.185168701995313);
color += star(coord, 1.8017174914527168, 9.804591298146189);
color += star(coord, 4.424362451213195, 9.242214477688275);
color += star(coord, 2.3247959606174087, 9.396124580232408);
color += star(coord, 1.4480499069773667, 1.5673958926371967);
color += star(coord, 3.388540313095242, 6.094085705850704);
color += star(coord, 2.5552185882167286, 5.520347576431295);
color += star(coord, 1.621846506481328, 7.424599788409198);
color += star(coord, 7.171260237147552, 1.2943764453418383);
color += star(coord, 9.443900862772471, 5.534103025663995);
color += star(coord, 7.006167915269291, 2.2405169593405305);
color += star(coord, 4.362900582058808, 3.6318461716134487);
color += star(coord, 8.067070295315213, 4.0045426218743945);
color += star(coord, 9.520337510119614, 0.19417855766682313);
color += star(coord, 0.5146755803923164, 1.7264237428493212);
color += star(coord, 9.5315150448982, 5.46346683485052);
color += star(coord, 7.411238341401311, 6.428764279881368);
color += star(coord, 6.344140733214857, 0.2662947821103234);
color += star(coord, 6.398153887779613, 3.0716446186995707);
color += star(coord, 9.800747107445547, 5.953697388287601);
color += star(coord, 5.491519121269921, 7.469242378594129);
color += star(coord, 1.0198146661789187, 6.715841609588683);
color += star(coord, 2.6253359839325863, 9.118433801896959);
color += star(coord, 6.636187765030232, 3.109511675997594);
color += star(coord, 6.5891094190167285, 6.87997717336609);
color += star(coord, 6.666412968513276, 5.0759993597451425);
color += star(coord, 9.132639431637733, 0.028444296185823337);
color += star(coord, 7.531896437414489, 3.696429303501796);

  // for (int i=0; i < 10; i++)
  // { 
  //   color += star(coord, random(coord), random(coord));
  // }

  gl_FragColor = vec4(vec3(color), 1.0);
}
